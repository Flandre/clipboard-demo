(function(t){function e(e){for(var n,o,l=e[0],s=e[1],u=e[2],p=0,d=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=s;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"044d":function(t,e,a){"use strict";a("7d3b")},1558:function(t,e,a){"use strict";a("ad7d")},3262:function(t,e,a){"use strict";a("4a88")},"4a88":function(t,e,a){},5612:function(t,e,a){"use strict";a("ff2c")},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=a("5c96"),i=a.n(r),o=(a("0fae"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Clipboard")],1)}),l=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"clipboard-main",style:{width:t.width+"px"}},[e("div",{staticClass:"print-panel"},[e("div",{staticClass:"btn-group"},[e("el-button",{attrs:{type:"primary",round:""},on:{click:t.pasteClipboard}},[t._v("粘贴")]),e("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.print()}}},[t._v("打印")])],1),e("div",{staticClass:"select-group"},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"选择图片模式"},model:{value:t.$store.state.imageType,callback:function(e){t.$set(t.$store.state,"imageType",e)},expression:"$store.state.imageType"}},t._l(t.imageTypeList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择宽度"},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}},t._l(t.widthList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"paste-board"},t._l(t.itemList,(function(a,n){return e("Adapter",{attrs:{item:a},on:{delete:function(e){return t.deleteItem(n)}}})})),1)])},u=[],c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"adapter",class:[t.modal?"fix-height":""],on:{mouseenter:function(e){t.modal=!0},mouseleave:function(e){t.modal=!1}}},[t.modal?e("div",{staticClass:"modal"},[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.$emit("delete")}}})],1):t._e(),e(t.item.component,{tag:"component",attrs:{data:t.item.data}})],1)},p=[],d=function(){var t=this,e=t._self._c;return t.data?e("p",{staticClass:"text-view"},[t._v(t._s(t.data))]):t._e()},f=[],m={name:"TextView",props:["data"]},b=m,v=(a("3262"),a("2877")),h=Object(v["a"])(b,d,f,!1,null,"10908e70",null),w=h.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-view"},[t.data?e("img",{class:t.$store.state.imageType,attrs:{src:t.data,alt:"image"}}):t._e()])},g=[],x={name:"ImageView",props:["data"]},_=x,O=(a("1558"),Object(v["a"])(_,y,g,!1,null,"5ce0c4ee",null)),j=O.exports,C={name:"Adapter",props:["item"],data(){return{modal:!1}},components:{TextView:w,ImageView:j}},T=C,L=(a("e9da"),Object(v["a"])(T,c,p,!1,null,"6baab052",null)),k=L.exports,$={name:"Clipboard",data(){return{itemList:[],width:800,imageTypeList:[{label:"原始",value:"source"},{label:"不超过最大宽度",value:"normal"},{label:"拉伸",value:"fill"}]}},mounted(){document.addEventListener("paste",t=>{this.pasteClipboard()})},computed:{widthList(){let t=600,e=1e3,a=50,n=[];for(let r=t;r<=e;r+=a)n.push({value:r,label:r+"px"});return n}},components:{Adapter:k},methods:{print(){window.print()},deleteItem(t){this.itemList.splice(t,1)},async pasteClipboard(){let t=this;const e=await navigator.permissions.query({name:"clipboard-read"});if("denied"===e.state)throw t.$message.error("Not allowed to read clipboard."),new Error("Not allowed to read clipboard.");const a=await navigator.clipboard.read();for(const n of a){if(n.types.includes("text/plain")){const e=await n.getType("text/plain"),a=await new Response(e).text();return void t.itemList.push({component:"TextView",data:a})}if(n.types.filter(t=>t.startsWith("image/"))){const e=n.types.filter(t=>t.startsWith("image/"))[0],a=await n.getType(e);if(!a)return void t.$message.error("Null blob data.");const r=URL.createObjectURL(a);return void t.itemList.push({component:"ImageView",data:r})}console.log(n),t.$message.error("Error clipboard item type.")}}}},S=$,P=(a("044d"),Object(v["a"])(S,s,u,!1,null,"1e2235d7",null)),V=P.exports,I={name:"App",components:{Clipboard:V}},A=I,M=(a("5612"),Object(v["a"])(A,o,l,!1,null,null,null)),E=M.exports,N=a("2f62");n["default"].use(N["a"]);var R=new N["a"].Store({state:{imageType:"normal"},mutations:{},actions:{},modules:{}});n["default"].config.productionTip=!1,n["default"].use(i.a),new n["default"]({store:R,render:function(t){return t(E)}}).$mount("#app")},"7d3b":function(t,e,a){},ad7d:function(t,e,a){},dc9f:function(t,e,a){},e9da:function(t,e,a){"use strict";a("dc9f")},ff2c:function(t,e,a){}});