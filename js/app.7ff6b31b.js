(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},n={app:0},r=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},1558:function(t,e,i){"use strict";i("ad7d")},3262:function(t,e,i){"use strict";i("4a88")},"425e":function(t,e,i){"use strict";i("5120")},"4a88":function(t,e,i){},5120:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var a=i("2b0e"),n=i("5c96"),r=i.n(n),s=(i("0fae"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"},on:{click:function(e){t.$store.state.selectAdapter=-1}}},[e("Clipboard")],1)}),o=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"clipboard-main",style:{width:t.width+"px"}},[e("div",{staticClass:"print-panel"},[e("div",{staticClass:"btn-group"},[e("el-button",{attrs:{type:"primary",round:""},on:{click:t.pasteClipboard}},[t._v("粘贴")]),e("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.print()}}},[t._v("打印")])],1),e("div",{staticClass:"select-group"},[e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"选择图片模式"},model:{value:t.$store.state.imageType,callback:function(e){t.$set(t.$store.state,"imageType",e)},expression:"$store.state.imageType"}},t._l(t.imageTypeList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择宽度"},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}},t._l(t.widthList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"paste-board"},t._l(t.itemList,(function(i,a){return e("Adapter",{attrs:{item:i,index:a},on:{delete:function(e){return t.deleteItem(a)},up:function(e){return t.upItem(a)},down:function(e){return t.downItem(a)}}})})),1)])},c=[],u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"adapter",class:[t.isSelected?"selected":""],on:{click:function(e){e.stopPropagation(),t.$store.state.selectAdapter=t.index}}},[e("transition",{attrs:{name:"slide-left"}},[t.showControl?e("div",{staticClass:"right-controls"},[e("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini",icon:"el-icon-top",circle:""},on:{click:function(e){return t.$emit("up")}}}),e("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini",icon:"el-icon-bottom",circle:""},on:{click:function(e){return t.$emit("down")}}}),e("el-button",{staticClass:"btn",attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.$emit("delete")}}})],1):t._e()]),e("div",{staticClass:"main-item-container"},[e(t.item.component,{tag:"component",attrs:{data:t.item.data}}),e("div",{staticClass:"modal"})],1)],1)},p=[],d=function(){var t=this,e=t._self._c;return t.data?e("p",{staticClass:"text-view"},[t._v(t._s(t.data))]):t._e()},m=[],f={name:"TextView",props:["data"]},b=f,h=(i("3262"),i("2877")),v=Object(h["a"])(b,d,m,!1,null,"10908e70",null),w=v.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-view"},[t.data?e("img",{class:t.$store.state.imageType,attrs:{src:t.data,alt:"image"}}):t._e()])},g=[],x={name:"ImageView",props:["data"]},_=x,C=(i("1558"),Object(h["a"])(_,y,g,!1,null,"5ce0c4ee",null)),T=C.exports,L=i("2f62"),O={name:"Adapter",props:["item","index"],data(){return{modal:!1,isSelected:!1,showControl:!1,timer1:0,timer2:0}},components:{TextView:w,ImageView:T},computed:{...Object(L["b"])(["selectAdapter"])},beforeDestroy(){clearTimeout(this.timer1),clearTimeout(this.timer2)},watch:{selectAdapter(t){t===this.index?(this.isSelected=!0,this.timer1=setTimeout(()=>{this.showControl=!0},300)):(this.showControl=!1,this.timer2=setTimeout(()=>{this.isSelected=!1},300))}}},$=O,j=(i("737b"),Object(h["a"])($,u,p,!1,null,"dc3084aa",null)),k=j.exports,A={name:"Clipboard",data(){return{itemList:[],width:800,imageTypeList:[{label:"原始",value:"source"},{label:"不超过最大宽度",value:"normal"},{label:"拉伸",value:"fill"}]}},mounted(){document.addEventListener("paste",this.pasteClipboard)},beforeDestroy(){document.removeEventListener("paste",this.pasteClipboard)},computed:{widthList(){let t=600,e=1e3,i=50,a=[];for(let n=t;n<=e;n+=i)a.push({value:n,label:n+"px"});return a}},components:{Adapter:k},methods:{print(){window.print()},deleteItem(t){this.itemList.splice(t,1),setTimeout(()=>{this.$store.state.selectAdapter=-1},1)},upItem(t){if(0!=t){let e=this.itemList.splice(t,1)[0];this.itemList.splice(t-1,0,e),setTimeout(()=>{this.$store.state.selectAdapter=t-1},1)}},downItem(t){if(t!=this.itemList.length-1){let e=this.itemList.splice(t,1)[0];this.itemList.splice(t+1,0,e),setTimeout(()=>{this.$store.state.selectAdapter=t+1},1)}},async pasteClipboard(){let t=this;const e=await navigator.permissions.query({name:"clipboard-read"});if("denied"===e.state)throw t.$message.error("Not allowed to read clipboard."),new Error("Not allowed to read clipboard.");const i=await navigator.clipboard.read();for(const a of i){if(a.types.includes("text/plain")){const e=await a.getType("text/plain"),i=await new Response(e).text();return void t.itemList.push({component:"TextView",data:i})}if(a.types.filter(t=>t.startsWith("image/"))){const e=a.types.filter(t=>t.startsWith("image/"))[0],i=await a.getType(e);if(!i)return void t.$message.error("Null blob data.");const n=URL.createObjectURL(i);return void t.itemList.push({component:"ImageView",data:n})}console.log(a),t.$message.error("Error clipboard item type.")}}}},S=A,I=(i("425e"),Object(h["a"])(S,l,c,!1,null,"51340a7b",null)),P=I.exports,V={name:"App",components:{Clipboard:P}},E=V,M=(i("fda8"),Object(h["a"])(E,s,o,!1,null,null,null)),z=M.exports;a["default"].use(L["a"]);var N=new L["a"].Store({state:{imageType:"normal",selectAdapter:-1},mutations:{},actions:{},modules:{}});a["default"].config.productionTip=!1,a["default"].use(r.a),new a["default"]({store:N,render:function(t){return t(z)}}).$mount("#app")},"737b":function(t,e,i){"use strict";i("9445")},9445:function(t,e,i){},ad7d:function(t,e,i){},b897:function(t,e,i){},fda8:function(t,e,i){"use strict";i("b897")}});